import type { AddressLike } from "ethers";

export const CONTRACT_ABI = [
  {
    type: "constructor",
    inputs: [
      { name: "_buyer", type: "address", internalType: "address" },
      {
        name: "_payees",
        type: "address[]", // changed from address payable[]
        internalType: "address payable[]",
      },
      { name: "_shares", type: "uint256[]", internalType: "uint256[]" },
      { name: "_daysUntilDeadline", type: "uint256", internalType: "uint256" },
    ],
    stateMutability: "nonpayable",
  },
  {
    type: "function",
    name: "deposit",
    inputs: [],
    outputs: [],
    stateMutability: "payable",
  },
  {
    type: "function",
    name: "confirmDelivery",
    inputs: [],
    outputs: [],
    stateMutability: "nonpayable",
  },
  {
    type: "function",
    name: "refund",
    inputs: [],
    outputs: [],
    stateMutability: "nonpayable",
  },
  {
    type: "function",
    name: "currentState",
    inputs: [],
    outputs: [{ name: "", type: "uint8", internalType: "uint8" }],
    stateMutability: "view",
  },
  {
    type: "function",
    name: "buyer",
    inputs: [],
    outputs: [{ name: "", type: "address", internalType: "address" }],
    stateMutability: "view",
  },
  {
    type: "function",
    name: "payees",
    inputs: [{ name: "", type: "uint256", internalType: "uint256" }],
    outputs: [{ name: "", type: "address", internalType: "address payable" }], // keep internalType, but change type if needed
    stateMutability: "view",
  },
  {
    type: "function",
    name: "shares",
    inputs: [{ name: "", type: "uint256", internalType: "uint256" }],
    outputs: [{ name: "", type: "uint256", internalType: "uint256" }],
    stateMutability: "view",
  },
  {
    type: "function",
    name: "deadline",
    inputs: [],
    outputs: [{ name: "", type: "uint256", internalType: "uint256" }],
    stateMutability: "view",
  },
  {
    type: "function",
    name: "getBalance",
    inputs: [],
    outputs: [{ name: "", type: "uint256", internalType: "uint256" }],
    stateMutability: "view",
  },
] as const;

// Provided bytecode from user (prefixed with 0x)
export const CONTRACT_BYTECODE =
  "0x608060405234801561000f575f5ffd5b50604051611a7c380380611a7c833981810160405281019061003191906105d9565b8151835114610075576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161006c906106f5565b60405180910390fd5b5f8351116100b8576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016100af9061075d565b60405180910390fd5b5f5f90505f5f90505b83518110156100ff578381815181106100dd576100dc61077b565b5b6020026020010151826100f091906107d5565b915080806001019150506100c1565b5060648114610143576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161013a90610852565b60405180910390fd5b845f60016101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508360019080519060200190610199929190610203565b5082600290805190602001906101b092919061028a565b505f5f5f6101000a81548160ff021916908360028111156101d4576101d3610870565b5b021790555062015180826101e8919061089d565b426101f391906107d5565b60038190555050505050506108de565b828054828255905f5260205f20908101928215610279579160200282015b82811115610278578251825f6101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555091602001919060010190610221565b5b50905061028691906102d5565b5090565b828054828255905f5260205f209081019282156102c4579160200282015b828111156102c35782518255916020019190600101906102a8565b5b5090506102d191906102d5565b5090565b5b808211156102ec575f815f9055506001016102d6565b5090565b5f604051905090565b5f5ffd5b5f5ffd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f61032a82610301565b9050919050565b61033a81610320565b8114610344575f5ffd5b50565b5f8151905061035581610331565b92915050565b5f5ffd5b5f601f19601f8301169050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52604160045260245ffd5b6103a58261035f565b810181811067ffffffffffffffff821117156103c4576103c361036f565b5b80604052505050565b5f6103d66102f0565b90506103e2828261039c565b919050565b5f67ffffffffffffffff8211156104015761040061036f565b5b602082029050602081019050919050565b5f5ffd5b5f61042082610301565b9050919050565b61043081610416565b811461043a575f5ffd5b50565b5f8151905061044b81610427565b92915050565b5f61046361045e846103e7565b6103cd565b9050808382526020820190506020840283018581111561048657610485610412565b5b835b818110156104af578061049b888261043d565b845260208401935050602081019050610488565b5050509392505050565b5f82601f8301126104cd576104cc61035b565b5b81516104dd848260208601610451565b91505092915050565b5f67ffffffffffffffff821115610500576104ff61036f565b5b602082029050602081019050919050565b5f819050919050565b61052381610511565b811461052d575f5ffd5b50565b5f8151905061053e8161051a565b92915050565b5f610556610551846104e6565b6103cd565b9050808382526020820190506020840283018581111561057957610578610412565b5b835b818110156105a2578061058e8882610530565b84526020840193505060208101905061057b565b5050509392505050565b5f82601f8301126105c0576105bf61035b565b5b81516105d0848260208601610544565b91505092915050565b5f5f5f5f608085870312156105f1576105f06102f9565b5b5f6105fe87828801610347565b945050602085015167ffffffffffffffff81111561061f5761061e6102fd565b5b61062b878288016104b9565b935050604085015167ffffffffffffffff81111561064c5761064b6102fd565b5b610658878288016105ac565b925050606061066987828801610530565b91505092959194509250565b5f82825260208201905092915050565b7f50617965657320616e6420736861726573206c656e677468206d69736d6174635f8201527f6800000000000000000000000000000000000000000000000000000000000000602082015250565b5f6106df602183610675565b91506106ea82610685565b604082019050919050565b5f6020820190508181035f83015261070c816106d3565b9050919050565b7f4e6f2070617965657300000000000000000000000000000000000000000000005f82015250565b5f610747600983610675565b915061075282610713565b602082019050919050565b5f6020820190508181035f8301526107748161073b565b9050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52603260045260245ffd5b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601160045260245ffd5b5f6107df82610511565b91506107ea83610511565b9250828201905080821115610802576108016107a8565b5b92915050565b7f536861726573206d75737420657175616c2031303000000000000000000000005f82015250565b5f61083c601583610675565b915061084782610808565b602082019050919050565b5f6020820190508181035f83015261086981610830565b9050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52602160045260245ffd5b5f6108a782610511565b91506108b283610511565b92508282026108c081610511565b915082820484148315176108d7576108d66107a8565b5b5092915050565b611191806108eb5f395ff3fe608060405260043610610089575f3560e01c8063590e1ae311610058578063590e1ae3146101875780635e10177b1461019d57806363037b0c146101b35780637150d8ae146101ef578063d0e30db014610219576100c9565b80630c3f6acf146100cd57806312065fe0146100f757806329dcb0cf1461012157806357a858fc1461014b576100c9565b366100c9576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016100c090610a8e565b60405180910390fd5b5f5ffd5b3480156100d8575f5ffd5b506100e1610223565b6040516100ee9190610b1f565b60405180910390f35b348015610102575f5ffd5b5061010b610234565b6040516101189190610b50565b60405180910390f35b34801561012c575f5ffd5b5061013561023b565b6040516101429190610b50565b60405180910390f35b348015610156575f5ffd5b50610171600480360381019061016c9190610b97565b610241565b60405161017e9190610b50565b60405180910390f35b348015610192575f5ffd5b5061019b610261565b005b3480156101a8575f5ffd5b506101b1610532565b005b3480156101be575f5ffd5b506101d960048036038101906101d49190610b97565b6107ef565b6040516101e69190610c01565b60405180910390f35b3480156101fa575f5ffd5b5061020361082a565b6040516102109190610c3a565b60405180910390f35b61022161084f565b005b5f5f9054906101000a900460ff1681565b5f47905090565b60035481565b60028181548110610250575f80fd5b905f5260205f20015f915090505481565b5f60019054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16146102f0576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016102e790610c9d565b60405180910390fd5b6001600281111561030457610303610aac565b5b5f5f9054906101000a900460ff16600281111561032457610323610aac565b5b14610364576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161035b90610d05565b60405180910390fd5b60035442116103a8576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161039f90610d6d565b60405180910390fd5b5f47116103ea576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016103e190610dd5565b60405180910390fd5b5f47905060025f5f6101000a81548160ff0219169083600281111561041257610411610aac565b5b02179055505f5f60019054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168260405161045d90610e20565b5f6040518083038185875af1925050503d805f8114610497576040519150601f19603f3d011682016040523d82523d5f602084013e61049c565b606091505b50509050806104e0576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016104d790610e7e565b60405180910390fd5b3373ffffffffffffffffffffffffffffffffffffffff167fd7dee2702d63ad89917b6a4da9981c90c4d24f8c2bdfd64c604ecae57d8d0651836040516105269190610b50565b60405180910390a25050565b5f60019054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16146105c1576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016105b890610c9d565b60405180910390fd5b600160028111156105d5576105d4610aac565b5b5f5f9054906101000a900460ff1660028111156105f5576105f4610aac565b5b14610635576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161062c90610ee6565b60405180910390fd5b5f4790505f5f90505b600180549050811015610774575f60646002838154811061066257610661610f04565b5b905f5260205f200154846106769190610f5e565b6106809190610fcc565b90505f6001838154811061069757610696610f04565b5b905f5260205f20015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16826040516106e290610e20565b5f6040518083038185875af1925050503d805f811461071c576040519150601f19603f3d011682016040523d82523d5f602084013e610721565b606091505b5050905080610765576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161075c90611046565b60405180910390fd5b5050808060010191505061063e565b5060025f5f6101000a81548160ff0219169083600281111561079957610798610aac565b5b02179055503373ffffffffffffffffffffffffffffffffffffffff167f28720c586a6e736146008f9bf260b09f29b8dcc37314fed637613ea3aec614f8826040516107e49190610b50565b60405180910390a250565b600181815481106107fe575f80fd5b905f5260205f20015f915054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b5f60019054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b5f60019054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16146108de576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016108d590610c9d565b60405180910390fd5b5f60028111156108f1576108f0610aac565b5b5f5f9054906101000a900460ff16600281111561091157610910610aac565b5b14610951576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610948906110ae565b60405180910390fd5b5f3411610993576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161098a90611116565b60405180910390fd5b60015f5f6101000a81548160ff021916908360028111156109b7576109b6610aac565b5b02179055503373ffffffffffffffffffffffffffffffffffffffff167f73a19dd210f1a7f902193214c0ee91dd35ee5b4d920cba8d519eca65a7b488ca3442604051610a04929190611134565b60405180910390a2565b5f82825260208201905092915050565b7f53706c69745061796d656e74457363726f773a20455448206d757374206265205f8201527f73656e7420766961206465706f73697428290000000000000000000000000000602082015250565b5f610a78603283610a0e565b9150610a8382610a1e565b604082019050919050565b5f6020820190508181035f830152610aa581610a6c565b9050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52602160045260245ffd5b60038110610aea57610ae9610aac565b5b50565b5f819050610afa82610ad9565b919050565b5f610b0982610aed565b9050919050565b610b1981610aff565b82525050565b5f602082019050610b325f830184610b10565b92915050565b5f819050919050565b610b4a81610b38565b82525050565b5f602082019050610b635f830184610b41565b92915050565b5f5ffd5b610b7681610b38565b8114610b80575f5ffd5b50565b5f81359050610b9181610b6d565b92915050565b5f60208284031215610bac57610bab610b69565b5b5f610bb984828501610b83565b91505092915050565b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f610beb82610bc2565b9050919050565b610bfb81610be1565b82525050565b5f602082019050610c145f830184610bf2565b92915050565b5f610c2482610bc2565b9050919050565b610c3481610c1a565b82525050565b5f602082019050610c4d5f830184610c2b565b92915050565b7f4f6e6c792062757965722063616e2063616c6c207468697300000000000000005f82015250565b5f610c87601883610a0e565b9150610c9282610c53565b602082019050919050565b5f6020820190508181035f830152610cb481610c7b565b9050919050565b7f43616e6e6f7420726566756e64000000000000000000000000000000000000005f82015250565b5f610cef600d83610a0e565b9150610cfa82610cbb565b602082019050919050565b5f6020820190508181035f830152610d1c81610ce3565b9050919050565b7f446561646c696e65206e6f7420706173736564207965740000000000000000005f82015250565b5f610d57601783610a0e565b9150610d6282610d23565b602082019050919050565b5f6020820190508181035f830152610d8481610d4b565b9050919050565b7f4e6f2066756e647320746f20726566756e6400000000000000000000000000005f82015250565b5f610dbf601283610a0e565b9150610dca82610d8b565b602082019050919050565b5f6020820190508181035f830152610dec81610db3565b9050919050565b5f81905092915050565b50565b5f610e0b5f83610df3565b9150610e1682610dfd565b5f82019050919050565b5f610e2a82610e00565b9150819050919050565b7f526566756e64206661696c6564000000000000000000000000000000000000005f82015250565b5f610e68600d83610a0e565b9150610e7382610e34565b602082019050919050565b5f6020820190508181035f830152610e9581610e5c565b9050919050565b7f43616e6e6f7420636f6e6669726d2064656c69766572790000000000000000005f82015250565b5f610ed0601783610a0e565b9150610edb82610e9c565b602082019050919050565b5f6020820190508181035f830152610efd81610ec4565b9050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52603260045260245ffd5b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601160045260245ffd5b5f610f6882610b38565b9150610f7383610b38565b9250828202610f8181610b38565b91508282048414831517610f9857610f97610f31565b5b5092915050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601260045260245ffd5b5f610fd682610b38565b9150610fe183610b38565b925082610ff157610ff0610f9f565b5b828204905092915050565b7f5472616e73666572206661696c656400000000000000000000000000000000005f82015250565b5f611030600f83610a0e565b915061103b82610ffc565b602082019050919050565b5f6020820190508181035f83015261105d81611024565b9050919050565b7f416c7265616479207061696400000000000000000000000000000000000000005f82015250565b5f611098600c83610a0e565b91506110a382611064565b602082019050919050565b5f6020820190508181035f8301526110c58161108c565b9050919050565b7f4d7573742073656e6420455448000000000000000000000000000000000000005f82015250565b5f611100600d83610a0e565b915061110b826110cc565b602082019050919050565b5f6020820190508181035f83015261112d816110f4565b9050919050565b5f6040820190506111475f830185610b41565b6111546020830184610b41565b939250505056fea264697066735822122084151c5684d49fcd9033b09d3cb2b7fcfbfba98395f7489d83f1df8340107cff64736f6c634300081f0033";

export const SEPOLIA_CHAIN_ID = 11155111;

export type EscrowConstructorArgs = [
  buyer: AddressLike,
  payees: AddressLike[],
  shares: bigint[] | number[],
  daysUntilDeadline: bigint | number,
];


